{"ast":null,"code":"import firebase from \"firebase/app\";\nimport \"firebase/messaging\"; // For Firebase JS SDK v7.20.0 and later, measurementId is optional\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC7KJm9g4JftP2nCLfJMZ1RiTW7cc-Xsgk\",\n  authDomain: \"pushnoti-b2057.firebaseapp.com\",\n  projectId: \"pushnoti-b2057\",\n  storageBucket: \"pushnoti-b2057.appspot.com\",\n  messagingSenderId: \"583433262770\",\n  appId: \"1:583433262770:web:9038ac85cfb278fe62dbab\"\n};\nfirebase.initializeApp(firebaseConfig);\nconst messaging = firebase.messaging();\nconst {\n  REACT_APP_VAPID_KEY\n} = process.env;\nconst publicKey = REACT_APP_VAPID_KEY;\nexport const getToken = async setTokenFound => {\n  let currentToken = \"\";\n\n  try {\n    currentToken = await messaging.getToken({\n      vapidKey: publicKey\n    });\n\n    if (currentToken) {\n      setTokenFound(true);\n    } else {\n      setTokenFound(false);\n    }\n  } catch (error) {\n    console.log(\"An error occurred while retrieving token. \", error);\n  }\n\n  return currentToken;\n};\nexport const onMessageListener = () => new Promise(resolve => {\n  messaging.onMessage(payload => {\n    resolve(payload);\n  });\n});","map":{"version":3,"sources":["/Users/srikanth.t/Documents/utmproject/expriments_with_react/src/firebaseInit.js"],"names":["firebase","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","initializeApp","messaging","REACT_APP_VAPID_KEY","process","env","publicKey","getToken","setTokenFound","currentToken","vapidKey","error","console","log","onMessageListener","Promise","resolve","onMessage","payload"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAO,oBAAP,C,CAEA;;AACA,MAAMC,cAAc,GAAG;AACnBC,EAAAA,MAAM,EAAE,yCADW;AAEnBC,EAAAA,UAAU,EAAE,gCAFO;AAGnBC,EAAAA,SAAS,EAAE,gBAHQ;AAInBC,EAAAA,aAAa,EAAE,4BAJI;AAKnBC,EAAAA,iBAAiB,EAAE,cALA;AAMnBC,EAAAA,KAAK,EAAE;AANY,CAAvB;AAUAP,QAAQ,CAACQ,aAAT,CAAuBP,cAAvB;AAEA,MAAMQ,SAAS,GAAGT,QAAQ,CAACS,SAAT,EAAlB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAA0BC,OAAO,CAACC,GAAxC;AACA,MAAMC,SAAS,GAAGH,mBAAlB;AAEA,OAAO,MAAMI,QAAQ,GAAG,MAAMC,aAAN,IAAwB;AAC5C,MAAIC,YAAY,GAAG,EAAnB;;AAEA,MAAI;AACAA,IAAAA,YAAY,GAAG,MAAMP,SAAS,CAACK,QAAV,CAAmB;AAAEG,MAAAA,QAAQ,EAAEJ;AAAZ,KAAnB,CAArB;;AACA,QAAIG,YAAJ,EAAkB;AACdD,MAAAA,aAAa,CAAC,IAAD,CAAb;AACH,KAFD,MAEO;AACHA,MAAAA,aAAa,CAAC,KAAD,CAAb;AACH;AACJ,GAPD,CAOE,OAAOG,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,4CAAZ,EAA0DF,KAA1D;AACH;;AAED,SAAOF,YAAP;AACH,CAfM;AAiBP,OAAO,MAAMK,iBAAiB,GAAG,MAC7B,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AACrBd,EAAAA,SAAS,CAACe,SAAV,CAAqBC,OAAD,IAAa;AAC7BF,IAAAA,OAAO,CAACE,OAAD,CAAP;AACH,GAFD;AAGH,CAJD,CADG","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/messaging\";\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n    apiKey: \"AIzaSyC7KJm9g4JftP2nCLfJMZ1RiTW7cc-Xsgk\",\n    authDomain: \"pushnoti-b2057.firebaseapp.com\",\n    projectId: \"pushnoti-b2057\",\n    storageBucket: \"pushnoti-b2057.appspot.com\",\n    messagingSenderId: \"583433262770\",\n    appId: \"1:583433262770:web:9038ac85cfb278fe62dbab\"\n\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst messaging = firebase.messaging();\n\nconst { REACT_APP_VAPID_KEY } = process.env;\nconst publicKey = REACT_APP_VAPID_KEY;\n\nexport const getToken = async(setTokenFound) => {\n    let currentToken = \"\";\n\n    try {\n        currentToken = await messaging.getToken({ vapidKey: publicKey });\n        if (currentToken) {\n            setTokenFound(true);\n        } else {\n            setTokenFound(false);\n        }\n    } catch (error) {\n        console.log(\"An error occurred while retrieving token. \", error);\n    }\n\n    return currentToken;\n};\n\nexport const onMessageListener = () =>\n    new Promise((resolve) => {\n        messaging.onMessage((payload) => {\n            resolve(payload);\n        });\n    });"]},"metadata":{},"sourceType":"module"}